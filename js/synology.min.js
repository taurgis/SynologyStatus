var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,b){if(b.get||b.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[c]=b.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,c,b,d){if(c){b=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in b||(b[e]={});b=b[e]}a=a[a.length-1];d=b[a];c=c(d);c!=d&&null!=c&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:c})}};$jscomp.polyfill("Math.trunc",function(a){return a?a:function(a){a=Number(a);if(isNaN(a)||Infinity===a||-Infinity===a||0===a)return a;var b=Math.floor(Math.abs(a));return 0>a?-b:b}},"es6-impl","es3");
define([],function(){var a={fetchStatus:function(c,b,d,e){getBaseUrl(storageresult.server,storageresult.ssl,function(e){$.get(baseUrl+"/webapi/auth.cgi?api=SYNO.API.Auth&version=2&method=login&account="+encodeURIComponent(c)+"&passwd="+encodeURIComponent(storageresult.password)+"&session=DownloadStation&format=sid",function(e){JSON.parse(e).success?(a.fetchDSMData(baseUrl,storageresult,!1),ticker=setInterval(function(e){a.fetchDSMData(baseUrl,e,!0);_gaq.push(["_trackPageview","/refresh.html"])},5E3,
storageresult)):(showError(chrome.i18n.getMessage("loginError")),$(".loader").hide())}).error(function(){showError(chrome.i18n.getMessage("loginError"));$(".loader").hide()})})},fetchDSMData:function(a,b,d){$.get(a+"/webman/modules/SystemInfoApp/SystemInfo.cgi?_dc=1499022065422&query=systemHealth",function(a){a=JSON.parse(a);if(a.disks){var b=a.optime.split(":");$(".dsmmodel").text(a.disks[0].container.str);$(".dsmtemperature").text(a.disks[0].temp+" ("+(a.temperature_warning?"NOK":"OK")+")");$(".dsmuptime").text(b[0]+
" "+chrome.i18n.getMessage("hours")+" "+b[1]+" "+chrome.i18n.getMessage("minutes")+" "+b[2]+" "+chrome.i18n.getMessage("seconds"));var b=a.vol_info[0].used_size/a.vol_info[0].total_size,c=Math.trunc(a.vol_info[0].used_size/1024/1024/1024);a=Math.trunc(a.vol_info[0].total_size/1024/1024/1024);$(".dsmdiskspaceused").text(c+" / "+a+" MB");$(".dsmdiskspace").width(Math.trunc(100*b)+"%");$(".dsm-info").show();$(".loader").hide()}else showError("Error fetching DSM status!")})}};return a});
