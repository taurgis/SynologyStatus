var $jscomp={scope:{},findInternal:function(a,d,c){a instanceof String&&(a=String(a));for(var b=a.length,e=0;e<b;e++){var f=a[e];if(d.call(c,f,e,a))return{i:e,v:f}}return{i:-1,v:void 0}}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,d,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[d]=c.value)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,d,c,b){if(d){c=$jscomp.global;a=a.split(".");for(b=0;b<a.length-1;b++){var e=a[b];e in c||(c[e]={});c=c[e]}a=a[a.length-1];b=c[a];d=d(b);d!=b&&null!=d&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:d})}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6-impl","es3");
requirejs(["./synology","vendor/jquery-2.1.4.min","helper/util"],function(a){function d(){$(".dsm-info").hide();$(".logged-in-panel").hide();chrome.storage.sync.get(["username","password","server","ssl"],function(b){b.username&&b.password?($(".login-panel").hide(),$(".loader").show(),$(".logged-in-panel").show(),$(".logged-in-as").text(chrome.i18n.getMessage("welcome")+b.username),a.fetchStatus(b.username,b.password,b.server,b.ssl)):($(".logged-in-panel").hide(),$(".login-panel").show(),$("#login-form").find("#username").val(b.username),
$("#login-form").find("#server").val(b.server),b.ssl?$("#login-form").find("#ssl").prop("checked",!0):$("#login-form").find("#ssl").prop("checked",!1))})}function c(){chrome.storage.sync.remove("password",function(){location.reload()})}$(document).ready(function(){doTranslation();d();$("#login-submit").on("click",function(a){a=$("#login-form").find("#username").val();var b=$("#login-form").find("#password").val(),c=$("#login-form").find("#server").val(),g=$("#login-form").find("#ssl").prop("checked");
chrome.storage.sync.set({username:a},function(a){$(".dsm-info").hide();$(".loader").show();d()});chrome.storage.sync.set({password:b});chrome.storage.sync.set({server:c});chrome.storage.sync.set({ssl:g})});$("#logout-button").on("click",function(a){c()});$(".close").on("click",function(){c()});$("#login-form .form-control").keypress(function(a){13==a.which&&$("#login-submit").trigger("click")})})});
